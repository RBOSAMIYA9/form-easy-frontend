{"ast":null,"code":"var _jsxFileName = \"G:\\\\naiti\\\\react\\\\formEasy\\\\form-easy-frontend\\\\src\\\\components\\\\aadharCard\\\\AadharCardForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Form, Select, InputNumber, Radio, message, Button, Upload, Spin, Input, DatePicker } from 'antd';\nimport { UploadOutlined, InboxOutlined } from '@ant-design/icons';\nimport moment from 'moment';\nimport '../../custom.css';\nimport country from 'country_state_district';\nimport { uploadData, uploadPhoto } from '../../firebase/addData';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst states = country.getStatesByCountryId(1);\nconst dateFormat = 'YYYY/MM/DD';\nconst types = ['image/png', 'image/jpeg', 'image/jpg'];\nconst {\n  Option\n} = Select;\nconst formItemLayout = {\n  labelCol: {\n    span: 3\n  },\n  wrapperCol: {\n    span: 16\n  },\n  labelAlign: 'left'\n};\n\nfunction AadharCardForm() {\n  _s();\n\n  const allFiles = [\"photo\", \"sign\", \"identityProof\"];\n  const [aadharNoInput, setaadharNoInput] = useState(false);\n  const [error, setError] = useState(false);\n  const [filePhoto, setFilePhoto] = useState(null);\n  const [fileSign, setFileSign] = useState(null);\n  const [fileIdProof, setFileIdProof] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const toggleAadharNoInput = e => {\n    if (e.target.value === \"update\") {\n      setaadharNoInput(true);\n    } else {\n      setaadharNoInput(false);\n    }\n  };\n\n  const normFile = e => {\n    if (e.fileList.length && types.includes(e.file.type)) {\n      console.log(\"file is ok\");\n      setError(false);\n    } else {\n      console.log('file is not ok');\n      setError(true);\n      message.error('Please upload file in jpg/png/jpeg format.');\n    }\n\n    return e && e.fileList;\n  };\n\n  const dummyRequest = ({\n    file,\n    onSuccess\n  }) => {\n    setTimeout(() => {\n      onSuccess(\"ok\");\n    }, 0);\n  };\n\n  function onChange(value) {\n    console.log('changed', value);\n  }\n\n  const uploadAllImages = async refId => {\n    return new Promise((resolve, reject) => {\n      Promise.all([uploadPhoto(filePhoto, refId, allFiles[0]), uploadPhoto(fileSign, refId, allFiles[1]), uploadPhoto(fileIdProof, refId, allFiles[2])]).then(() => {\n        resolve(\"done aaaaaaa\");\n      });\n    });\n  };\n\n  const onFinish = values => {\n    setLoading(true);\n    console.log('Success:', values); // console.log(\"photo\",values.identityProof[0])\n\n    setFilePhoto(values.photo[0]);\n    setFileSign(values.sign[0]);\n    setFileIdProof(values.identityProof[0]);\n    delete values.identityProof;\n    delete values.sign;\n    delete values.photo;\n    values.dob = values.dob._d;\n\n    if (!values.aadharNumber) {\n      values.aadharNo = \"None\";\n    }\n\n    try {\n      uploadData(values).then(ref => {\n        uploadAllImages(ref.id).then(res => {\n          console.log(res);\n          setLoading(false);\n        }).catch(e => console.log(\"error\", e));\n      }).catch(e => console.log(\"error\", e));\n    } catch (error) {\n      message.error(error, 'Some error occured');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Spin, {\n      spinning: this.state.loading,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"AadharCard Form\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        name: \"validate_other\",\n        ...formItemLayout,\n        onFinish: onFinish,\n        initialValues: {\n          'input-number': 3,\n          rate: 3.5\n        },\n        children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"nationality\",\n          label: \"Nationality\",\n          rules: [{\n            required: true,\n            message: 'Please select nationality'\n          }],\n          style: {\n            textAlign: \"left\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Radio.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Radio, {\n              value: \"Indian\",\n              children: \"Indian Resident\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Radio, {\n              value: \"Nri\",\n              children: \"Non Resident Indian\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"enrolmentType\",\n          label: \"Enrolment Type\",\n          style: {\n            textAlign: \"left\"\n          },\n          rules: [{\n            required: true,\n            message: 'Please select enrolment type'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Radio.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Radio, {\n              value: \"new\",\n              onChange: e => toggleAadharNoInput(e),\n              children: \"New Enrolment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Radio, {\n              value: \"update\",\n              onChange: e => toggleAadharNoInput(e),\n              children: \"Update Request\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 17\n        }, this), aadharNoInput ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(Form.Item, {\n            label: \"Aadhar No\",\n            labelCol: {\n              span: 3\n            },\n            style: {\n              textAlign: \"left\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"aadharNumber\",\n              rules: [{\n                required: true,\n                message: 'Please enter Aadhar Number!'\n              }],\n              children: /*#__PURE__*/_jsxDEV(InputNumber, {\n                style: {\n                  width: 'auto'\n                },\n                minlength: \"12\",\n                maxLength: \"12\",\n                className: \"aadhar-number\",\n                onChange: onChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 25\n          }, this)\n        }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"fullName\",\n          style: {\n            textAlign: \"left\"\n          },\n          label: \"Full Name\",\n          rules: [{\n            required: true,\n            message: 'Please enter Name!'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"relationOf\",\n          style: {\n            textAlign: \"left\"\n          },\n          label: \"C/O\",\n          rules: [{\n            required: true,\n            message: 'Please enter C/O!'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"addressLineOne\",\n          style: {\n            textAlign: \"left\"\n          },\n          label: \"House No / Apt\",\n          rules: [{\n            required: true,\n            message: 'Please enter House no / Bridg / Apt'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"addressLineTwo\",\n          style: {\n            textAlign: \"left\"\n          },\n          label: \"Street / road / lane\",\n          rules: [{\n            required: true,\n            message: 'Please enter Street / road / lane'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"landmark\",\n          style: {\n            textAlign: \"left\"\n          },\n          label: \"Landmark \",\n          rules: [{\n            required: true,\n            message: 'Please enter landmark'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"locality\",\n          style: {\n            textAlign: \"left\"\n          },\n          label: \"Area/locality/sector \",\n          rules: [{\n            required: true,\n            message: 'Please enter Area/locality/sector'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"settlement\",\n          style: {\n            textAlign: \"left\"\n          },\n          label: \"Village / town / city \",\n          rules: [{\n            required: true,\n            message: 'Please enter landmark'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"postoffice\",\n          style: {\n            textAlign: \"left\"\n          },\n          label: \"PostOffice \",\n          rules: [{\n            required: true,\n            message: 'Please enter postOffice'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"district\",\n          style: {\n            textAlign: \"left\"\n          },\n          label: \"District \",\n          rules: [{\n            required: true,\n            message: 'Please enter district'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"state\",\n          label: \"State\",\n          hasFeedback: true,\n          rules: [{\n            required: true,\n            message: 'Please select your state!'\n          }],\n          style: {\n            textAlign: \"left\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Select, {\n            placeholder: \"Please select a state\",\n            children: states.map(state => /*#__PURE__*/_jsxDEV(Option, {\n              value: state.name,\n              children: state.name\n            }, state.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"Pincode\",\n          style: {\n            textAlign: \"left\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Form.Item, {\n            name: \"pincode\",\n            rules: [{\n              required: true,\n              message: 'Please select your pincode!'\n            }],\n            children: /*#__PURE__*/_jsxDEV(InputNumber, {\n              style: {\n                width: 100\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"dob\",\n          style: {\n            textAlign: \"left\"\n          },\n          label: \"Date Of Birth \",\n          rules: [{\n            required: true,\n            message: 'Please enter Date Of Birth!'\n          }],\n          children: /*#__PURE__*/_jsxDEV(DatePicker, {\n            format: dateFormat\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"photo\",\n          label: \"Upload Your Photo\",\n          valuePropName: \"photoList\",\n          getValueFromEvent: normFile,\n          extra: \"\",\n          style: {\n            textAlign: \"left\"\n          },\n          rules: [{\n            required: true,\n            message: 'Please upload your photo!'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Upload, {\n            name: \"logo\",\n            listType: \"picture\",\n            customRequest: dummyRequest,\n            maxCount: 1,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              icon: /*#__PURE__*/_jsxDEV(UploadOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 39\n              }, this),\n              children: \"Click to upload\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"sign\",\n          label: \"Upload Your Sign\",\n          valuePropName: \"signList\",\n          getValueFromEvent: normFile,\n          extra: \"\",\n          style: {\n            textAlign: \"left\"\n          },\n          rules: [{\n            required: true,\n            message: 'Please upload your photo!'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Upload, {\n            name: \"logo\",\n            listType: \"picture\",\n            customRequest: dummyRequest,\n            maxCount: 1,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              icon: /*#__PURE__*/_jsxDEV(UploadOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 39\n              }, this),\n              children: \"Click to upload\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"identityProof\",\n          label: \"Identity Proof\",\n          valuePropName: \"identity-proof-list\",\n          getValueFromEvent: normFile,\n          extra: \"\",\n          style: {\n            textAlign: \"left\"\n          },\n          rules: [{\n            required: true,\n            message: 'Please upload your photo!'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Upload, {\n            name: \"logo\",\n            listType: \"picture\",\n            customRequest: dummyRequest,\n            maxCount: 1,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              icon: /*#__PURE__*/_jsxDEV(UploadOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 39\n              }, this),\n              children: \"Click to upload\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          wrapperCol: {\n            span: 12,\n            offset: 5\n          },\n          style: {\n            textAlign: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            htmlType: \"submit\",\n            disabled: error,\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 12\n    }, this)\n  }, void 0, false);\n}\n\n_s(AadharCardForm, \"yjc+ZKg2ITxRPaxReKHQZK2myLk=\");\n\n_c = AadharCardForm;\nexport default AadharCardForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"AadharCardForm\");","map":{"version":3,"sources":["G:/naiti/react/formEasy/form-easy-frontend/src/components/aadharCard/AadharCardForm.js"],"names":["React","useState","Form","Select","InputNumber","Radio","message","Button","Upload","Spin","Input","DatePicker","UploadOutlined","InboxOutlined","moment","country","uploadData","uploadPhoto","states","getStatesByCountryId","dateFormat","types","Option","formItemLayout","labelCol","span","wrapperCol","labelAlign","AadharCardForm","allFiles","aadharNoInput","setaadharNoInput","error","setError","filePhoto","setFilePhoto","fileSign","setFileSign","fileIdProof","setFileIdProof","loading","setLoading","toggleAadharNoInput","e","target","value","normFile","fileList","length","includes","file","type","console","log","dummyRequest","onSuccess","setTimeout","onChange","uploadAllImages","refId","Promise","resolve","reject","all","then","onFinish","values","photo","sign","identityProof","dob","_d","aadharNumber","aadharNo","ref","id","res","catch","state","rate","required","textAlign","width","map","name","offset"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport {\r\n    Form,\r\n    Select,\r\n    InputNumber,\r\n\r\n    Radio,\r\n    message,\r\n    Button,\r\n    Upload,\r\n    Spin,\r\n    Input,\r\n    DatePicker\r\n} from 'antd';\r\nimport { UploadOutlined, InboxOutlined } from '@ant-design/icons';\r\nimport moment from 'moment';\r\nimport '../../custom.css'\r\nimport country from 'country_state_district';\r\nimport { uploadData, uploadPhoto } from '../../firebase/addData'\r\nconst states = country.getStatesByCountryId(1);\r\nconst dateFormat = 'YYYY/MM/DD';\r\n\r\nconst types = ['image/png', 'image/jpeg', 'image/jpg']\r\nconst { Option } = Select;\r\nconst formItemLayout = {\r\n    labelCol: { span: 3 },\r\n    wrapperCol: { span: 16 },\r\n    labelAlign: 'left'\r\n};\r\n\r\n\r\nfunction AadharCardForm() {\r\n    const allFiles = [\"photo\", \"sign\", \"identityProof\"]\r\n    const [aadharNoInput, setaadharNoInput] = useState(false);\r\n    const [error, setError] = useState(false);\r\n    const [filePhoto, setFilePhoto] = useState(null);\r\n    const [fileSign, setFileSign] = useState(null);\r\n    const [fileIdProof, setFileIdProof] = useState(null);\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    const toggleAadharNoInput = (e) => {\r\n\r\n        if (e.target.value === \"update\") {\r\n            setaadharNoInput(true);\r\n        }\r\n        else {\r\n            setaadharNoInput(false);\r\n        }\r\n\r\n    }\r\n\r\n    const normFile = (e) => {\r\n\r\n        if (e.fileList.length && types.includes(e.file.type)) {\r\n            console.log(\"file is ok\");\r\n            setError(false);\r\n        }\r\n        else {\r\n            console.log('file is not ok');\r\n\r\n            setError(true);\r\n            message.error('Please upload file in jpg/png/jpeg format.');\r\n        }\r\n        return e && e.fileList;\r\n    };\r\n    const dummyRequest = ({ file, onSuccess }) => {\r\n        setTimeout(() => {\r\n            onSuccess(\"ok\");\r\n        }, 0);\r\n    };\r\n\r\n    function onChange(value) {\r\n        console.log('changed', value);\r\n    }\r\n\r\n    const uploadAllImages = async (refId) => {\r\n        return new Promise((resolve, reject) => {\r\n\r\n            Promise.all([uploadPhoto(filePhoto, refId, allFiles[0]), uploadPhoto(fileSign, refId, allFiles[1]), uploadPhoto(fileIdProof, refId, allFiles[2])])\r\n                .then(() => {\r\n                    resolve(\"done aaaaaaa\")\r\n                })\r\n        })\r\n    }\r\n    const onFinish = (values) => {\r\n\r\n        setLoading(true);\r\n        console.log('Success:', values);\r\n        // console.log(\"photo\",values.identityProof[0])\r\n\r\n        setFilePhoto(values.photo[0])\r\n        setFileSign(values.sign[0])\r\n        setFileIdProof(values.identityProof[0])\r\n\r\n        delete values.identityProof;\r\n        delete values.sign;\r\n        delete values.photo;\r\n        values.dob = values.dob._d\r\n        if (!values.aadharNumber) {\r\n            values.aadharNo = \"None\";\r\n        }\r\n\r\n\r\n        try {\r\n            uploadData(values).then((ref) => {\r\n                uploadAllImages(ref.id).then((res) => {\r\n                    console.log(res)\r\n                    setLoading(false);\r\n                }).catch(e => console.log(\"error\", e))\r\n\r\n            }).catch(e => console.log(\"error\", e))\r\n\r\n        } catch (error) {\r\n            message.error(error, 'Some error occured');\r\n        }\r\n\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n           <Spin spinning={this.state.loading}>\r\n            <h1>AadharCard Form</h1>\r\n            <Form\r\n                name=\"validate_other\"\r\n                {...formItemLayout}\r\n                onFinish={onFinish}\r\n                initialValues={{\r\n                    'input-number': 3,\r\n                    rate: 3.5,\r\n                }}\r\n            >\r\n\r\n                <Form.Item name=\"nationality\" label=\"Nationality\" rules={[{ required: true, message: 'Please select nationality' }]} style={{ textAlign: \"left\" }}>\r\n                    <Radio.Group  >\r\n                        <Radio value=\"Indian\">Indian Resident</Radio>\r\n                        <Radio value=\"Nri\">Non Resident Indian</Radio>\r\n                    </Radio.Group>\r\n                </Form.Item>\r\n\r\n                <Form.Item name=\"enrolmentType\" label=\"Enrolment Type\" style={{ textAlign: \"left\" }} rules={[{ required: true, message: 'Please select enrolment type' }]}>\r\n                    <Radio.Group>\r\n                        <Radio value=\"new\" onChange={(e) => toggleAadharNoInput(e)}>New Enrolment</Radio>\r\n                        <Radio value=\"update\" onChange={(e) => toggleAadharNoInput(e)}>Update Request</Radio>\r\n                    </Radio.Group>\r\n                </Form.Item>\r\n\r\n                {aadharNoInput ? (\r\n                    <>\r\n                        <Form.Item label=\"Aadhar No\" labelCol={{ span: 3 }}\r\n                            style={{ textAlign: \"left\" }} >\r\n                            <Form.Item name=\"aadharNumber\"\r\n\r\n                                rules={[{ required: true, message: 'Please enter Aadhar Number!' }]}>\r\n                                <InputNumber style={{ width: 'auto' }} minlength=\"12\" maxLength=\"12\" className=\"aadhar-number\" onChange={onChange} />\r\n                            </Form.Item>\r\n\r\n                        </Form.Item>\r\n\r\n                    </>\r\n                ) : (<></>)}\r\n                <Form.Item name=\"fullName\" style={{ textAlign: \"left\" }} label=\"Full Name\" rules={[{ required: true, message: 'Please enter Name!' }]}>\r\n                    <Input />\r\n                </Form.Item>\r\n                <Form.Item name=\"relationOf\" style={{ textAlign: \"left\" }} label=\"C/O\" rules={[{ required: true, message: 'Please enter C/O!' }]}>\r\n                    <Input />\r\n                </Form.Item>\r\n\r\n                <Form.Item name=\"addressLineOne\" style={{ textAlign: \"left\" }} label=\"House No / Apt\" rules={[{ required: true, message: 'Please enter House no / Bridg / Apt' }]}>\r\n                    <Input />\r\n                </Form.Item>\r\n\r\n                <Form.Item name=\"addressLineTwo\" style={{ textAlign: \"left\" }} label=\"Street / road / lane\" rules={[{ required: true, message: 'Please enter Street / road / lane' }]}>\r\n                    <Input />\r\n                </Form.Item>\r\n\r\n\r\n                <Form.Item name=\"landmark\" style={{ textAlign: \"left\" }} label=\"Landmark \" rules={[{ required: true, message: 'Please enter landmark' }]}>\r\n                    <Input />\r\n                </Form.Item>\r\n\r\n\r\n\r\n                <Form.Item name=\"locality\" style={{ textAlign: \"left\" }} label=\"Area/locality/sector \" rules={[{ required: true, message: 'Please enter Area/locality/sector' }]}>\r\n                    <Input />\r\n                </Form.Item>\r\n\r\n                <Form.Item name=\"settlement\" style={{ textAlign: \"left\" }} label=\"Village / town / city \" rules={[{ required: true, message: 'Please enter landmark' }]}>\r\n                    <Input />\r\n                </Form.Item>\r\n\r\n                <Form.Item name=\"postoffice\" style={{ textAlign: \"left\" }} label=\"PostOffice \" rules={[{ required: true, message: 'Please enter postOffice' }]}>\r\n                    <Input />\r\n                </Form.Item>\r\n\r\n                <Form.Item name=\"district\" style={{ textAlign: \"left\" }} label=\"District \" rules={[{ required: true, message: 'Please enter district' }]}>\r\n                    <Input />\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                    name=\"state\"\r\n                    label=\"State\"\r\n                    hasFeedback\r\n                    rules={[{ required: true, message: 'Please select your state!' }]}\r\n                    style={{ textAlign: \"left\" }}\r\n                >\r\n                    <Select placeholder=\"Please select a state\">\r\n                        {\r\n                            states.map((state) => (\r\n                                <Option key={state.id} value={state.name}>{state.name}</Option>\r\n                            ))\r\n                        }\r\n\r\n                    </Select>\r\n                </Form.Item>\r\n\r\n                <Form.Item label=\"Pincode\" style={{ textAlign: \"left\" }}>\r\n                    <Form.Item name=\"pincode\" rules={[{ required: true, message: 'Please select your pincode!' }]} >\r\n                        <InputNumber style={{ width: 100 }} />\r\n                    </Form.Item>\r\n                </Form.Item>\r\n\r\n                <Form.Item name=\"dob\" style={{ textAlign: \"left\" }} label=\"Date Of Birth \" rules={[{ required: true, message: 'Please enter Date Of Birth!' }]}>\r\n                    <DatePicker format={dateFormat} />\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                    name=\"photo\"\r\n                    label=\"Upload Your Photo\"\r\n                    valuePropName=\"photoList\"\r\n                    getValueFromEvent={normFile}\r\n                    extra=\"\"\r\n                    style={{ textAlign: \"left\" }}\r\n\r\n                    rules={[{ required: true, message: 'Please upload your photo!' }]}\r\n                >\r\n                    {/*  action=\"/upload.do\" */}\r\n                    <Upload name=\"logo\" listType=\"picture\" customRequest={dummyRequest} maxCount={1}>\r\n                        <Button icon={<UploadOutlined />}  >Click to upload</Button>\r\n                    </Upload>\r\n\r\n                </Form.Item>\r\n\r\n\r\n                <Form.Item\r\n                    name=\"sign\"\r\n                    label=\"Upload Your Sign\"\r\n                    valuePropName=\"signList\"\r\n                    getValueFromEvent={normFile}\r\n                    extra=\"\"\r\n                    style={{ textAlign: \"left\" }}\r\n\r\n                    rules={[{ required: true, message: 'Please upload your photo!' }]}\r\n                >\r\n                    <Upload name=\"logo\" listType=\"picture\" customRequest={dummyRequest} maxCount={1}>\r\n                        <Button icon={<UploadOutlined />}>Click to upload</Button>\r\n                    </Upload>\r\n                </Form.Item>\r\n\r\n\r\n                <Form.Item\r\n                    name=\"identityProof\"\r\n                    label=\"Identity Proof\"\r\n                    valuePropName=\"identity-proof-list\"\r\n                    getValueFromEvent={normFile}\r\n                    extra=\"\"\r\n                    style={{ textAlign: \"left\" }}\r\n\r\n                    rules={[{ required: true, message: 'Please upload your photo!' }]}\r\n                >\r\n                    <Upload name=\"logo\" listType=\"picture\" customRequest={dummyRequest} maxCount={1}>\r\n                        <Button icon={<UploadOutlined />}>Click to upload</Button>\r\n                    </Upload>\r\n                </Form.Item>\r\n\r\n\r\n\r\n\r\n                <Form.Item wrapperCol={{ span: 12, offset: 5 }} style={{ textAlign: \"center\" }} >\r\n                    <Button type=\"primary\" htmlType=\"submit\" disabled={error}>\r\n                        Submit\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n            </Spin>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AadharCardForm\r\n"]},"metadata":{},"sourceType":"module"}