{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { projectStorage } from '../firebase';\n\nconst useFirebaseStorage = (filePhoto, fileSign, fileIdProof) => {\n  _s();\n\n  // const [progress, setProgress] = useState(0);\n  // const [error, setError] = useState(null);\n  // const [url, setUrl] = useState(null);\n  useEffect(() => {\n    // references\n    //   const storageRef = projectStorage.ref(file.name);\n    //   const collectionRef = projectFirestore.collection('images');\n    //   storageRef.put(file).on('state_changed', (snap) => {\n    //     let percentage = (snap.bytesTransferred / snap.totalBytes) * 100;\n    //     setProgress(percentage);\n    //   }, (err) => {\n    //     setError(err);\n    //   }, async () => {\n    //     const url = await storageRef.getDownloadURL();\n    //     const createdAt = timestamp();\n    //     await collectionRef.add({ url, createdAt });\n    //     setUrl(url);\n    //   });\n    console.log(\"changes made\");\n  }, [filePhoto, fileSign, fileIdProof]);\n  return {\n    progress,\n    url,\n    error\n  };\n};\n\n_s(useFirebaseStorage, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\nexport default useFirebaseStorage;","map":{"version":3,"sources":["G:/naiti/react/formEasy/form-easy-frontend/src/hooks/useStorage.js"],"names":["useState","useEffect","projectStorage","useFirebaseStorage","filePhoto","fileSign","fileIdProof","console","log","progress","url","error"],"mappings":";;AAAA,SAAQA,QAAR,EAAiBC,SAAjB,QAAiC,OAAjC;AACA,SAAQC,cAAR,QAA6B,aAA7B;;AAEA,MAAMC,kBAAkB,GAAG,CAACC,SAAD,EAAWC,QAAX,EAAoBC,WAApB,KAAoC;AAAA;;AAC3D;AACA;AACA;AAEAL,EAAAA,SAAS,CAAC,MAAM;AACd;AACF;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACC,GAjBQ,EAiBN,CAACJ,SAAD,EAAWC,QAAX,EAAoBC,WAApB,CAjBM,CAAT;AAmBA,SAAO;AAAEG,IAAAA,QAAF;AAAYC,IAAAA,GAAZ;AAAiBC,IAAAA;AAAjB,GAAP;AAEH,CA1BD;;GAAMR,kB;;AA6BN,eAAeA,kBAAf","sourcesContent":["import {useState,useEffect} from 'react';\r\nimport {projectStorage} from '../firebase';\r\n\r\nconst useFirebaseStorage = (filePhoto,fileSign,fileIdProof) => {\r\n    // const [progress, setProgress] = useState(0);\r\n    // const [error, setError] = useState(null);\r\n    // const [url, setUrl] = useState(null);\r\n  \r\n    useEffect(() => {\r\n      // references\r\n    //   const storageRef = projectStorage.ref(file.name);\r\n    //   const collectionRef = projectFirestore.collection('images');\r\n      \r\n    //   storageRef.put(file).on('state_changed', (snap) => {\r\n    //     let percentage = (snap.bytesTransferred / snap.totalBytes) * 100;\r\n    //     setProgress(percentage);\r\n    //   }, (err) => {\r\n    //     setError(err);\r\n    //   }, async () => {\r\n    //     const url = await storageRef.getDownloadURL();\r\n    //     const createdAt = timestamp();\r\n    //     await collectionRef.add({ url, createdAt });\r\n    //     setUrl(url);\r\n    //   });\r\n    console.log(\"changes made\");\r\n    }, [filePhoto,fileSign,fileIdProof]);\r\n  \r\n    return { progress, url, error };\r\n    \r\n}\r\n\r\n\r\nexport default useFirebaseStorage;"]},"metadata":{},"sourceType":"module"}